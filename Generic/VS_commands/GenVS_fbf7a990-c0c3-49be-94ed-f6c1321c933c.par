PARSFILE
#FullDataName Generic VS Commands`Pedestrian Sensor Outputs`Pedestrian Euro NCAP
#VehCode Moving Object Sensor Parameters

#MiscYellow0
! Object height is important for the child pedestrian espeically

define_output PedSensOrigDist = DisS<<s>>_1; m; distance from ped. to vehicle
define_output PedSensMag = DETECT_MAG(ID_PED, CLOSEST); -; ped. sensor detection flag
define_output PedSensRelDist =  if( PedSensMag, DETECT_DIST(ID_PED, CLOSEST), 0); m; ...
ped. sensor detection dist.
define_output PedSensBrDetect = DETECT_BR_CP(ID_PED, CLOSEST); deg ; ...
ped. sensor detection bearing

define_output PedObjHeight = if(PedSensMag, DETECT_Z(ID_PED, CLOSEST), 0); m;  z-ht. detected by ped. sensor
define_output PedHeightAngle = if(abs(PedSensRelDist)>0, asin(PedObjHeight/PedSensRelDist), 0); deg; elev. angle detect. by ped. sens.
define_output PedXyDistSens = if(PedSensMag, PedSensRelDist*cos(PedHeightAngle), 0); m; x-y plane projection of camera dist.

define_output PedX_DistAct = PedXyDistSens*cos(PedSensBrDetect); m; ped. sensor x-dist. detected 
define_output PedY_DistAct = PedXyDistSens*sin(PedSensBrDetect); m; ped. sensor y-dist. detected
#ENDMYellow

*MODELCODE Moving Object Sensor Parameters
PARSFILE Animator\HUD\HUD_ba3324b0-fcb9-45f8-abcd-5ab3d2d1a3cd.par
#BlueLink0 Animator: HUD`FCW Alert (small - right side)` Euro NCAP` , Miscellaneous`HUD_ba3324b0-fcb9-45f8-abcd-5ab3d2d1a3cd


#EMBEDDED_NOTES
#Detection calculations for the distance sensor embedded in the Pedestrian Moving Object, that senses the ego vehicle bumper profile
#
#There is a correction to project the sensor vector from a 3D space to the xy-plane
#- After this, the horizontal sensor combined distance is into x and y components for distance calculations
#
#
#END_EMBEDDED_NOTES

LOG_ENTRY Used Dataset: Generic VS Commands; { Pedestrian Euro NCAP } Pedestrian Sensor Outputs
#Library : Generic VS Commands
#DataSet : Pedestrian Sensor Outputs
#Category: Pedestrian Euro NCAP
#FileID  : GenVS_fbf7a990-c0c3-49be-94ed-f6c1321c933c
#Product : CarSim 2021.0
#VehCode Moving Object Sensor Parameters

END
