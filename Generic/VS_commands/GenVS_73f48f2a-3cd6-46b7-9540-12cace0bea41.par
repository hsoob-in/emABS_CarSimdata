PARSFILE
#FullDataName Generic VS Commands`Hill Start Assist (MT) Set Up`Miscellaneous Custom Controls
#VehCode VS Commands

#MiscYellow0
! Create hill start assist command based on
!   vehicle pitch negative,
!   clutch disengaged (clutch pedal pressed in),
!   brake disengaged,
!   vehicle speed negative.

define_output HillStartAssist 0; -; 1 for active, 0 for inactive
eq_in HillStartAssist = if( (Pitch < 0) & ClutchTr & ~Bk_Stat & (Vxz_Fwd < 0), 1, 0)

! Assumed to act through electric parking brake on the rear axle only
import IMP_MYUSM_L2 vs_replace 0
import IMP_MYUSM_R2 vs_replace 0

eq_in IMP_MYUSM_L2 = if(HillStartAssist, 500, 0)
eq_in IMP_MYUSM_R2 = if(HillStartAssist, 500, 0)
#ENDMYellow

PARSFILE Animator\HUD\HUD_2f929c6c-97f9-4051-b1dd-f4cca9fd9503.par
#BlueLink0 Animator: HUD`Hill Start Assist (Manual Trans)` ADAS Alerts` , Miscellaneous`HUD_2f929c6c-97f9-4051-b1dd-f4cca9fd9503


LOG_ENTRY Used Dataset: Generic VS Commands; { Miscellaneous Custom Controls } Hill Start Assist (MT) Set Up
#Library : Generic VS Commands
#DataSet : Hill Start Assist (MT) Set Up
#Category: Miscellaneous Custom Controls
#FileID  : GenVS_73f48f2a-3cd6-46b7-9540-12cace0bea41
#Product : CarSim 2021.0
#VehCode VS Commands

END
